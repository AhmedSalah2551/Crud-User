"use strict";(self.webpackChunkuser=self.webpackChunkuser||[]).push([[117],{117:(k,h,r)=>{r.r(h),r.d(h,{AuthModule:()=>T,HttpLoaderFactory:()=>Z});var f=r(6895),y=r(6786),n=r(4006),d=r(529),s=r(8996),t=r(4650),v=r(7507);let C=(()=>{class e{constructor(o){this.http=o}userLogin(o){return this.http.post(v.N.baseApi.replace("tasks","auth")+"login",o)}createUser(o){return this.http.post(v.N.baseApi.replace("tasks","auth")+"createAccount",o)}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(d.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var P=r(4383),u=r(3081),b=r(8423),l=r(9549),M=r(4144);let A=(()=>{class e{constructor(o,a,c,g,m,p){this.services=o,this.fb=a,this.toaster=c,this.router=g,this.translate=m,this.spinner=p,this.language=localStorage.getItem("language"),"language"in localStorage&&m.use(this.language)}ngOnInit(){this.createLoginForm()}createLoginForm(){this.loginForm=this.fb.group({email:["",[n.kI.required,n.kI.email]],password:["",n.kI.required],role:["user"]})}login(){this.spinner.show(),this.services.userLogin(this.loginForm.value).subscribe(o=>{localStorage.setItem("token",o.token),this.toaster.success("Login Successfuly","succes"),this.router.navigate(["/tasks"]),this.spinner.hide()},o=>{this.toaster.error("Email or Password may be incorrect"),this.spinner.hide()})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(C),t.Y36(n.qu),t.Y36(P._W),t.Y36(s.F0),t.Y36(u.sK),t.Y36(b.t2))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-login"]],decls:26,vars:2,consts:[[1,"login","d-flex","justify-content-center","align-items-center","m-auto","p-4"],[1,"d-flex","align-items-center","justify-content-center","w-100","py-4"],[1,"box","w-100"],[3,"formGroup"],["appearance","outline",1,"w-100"],["matInput","","placeholder","email","formControlName","email"],["matInput","","type","password","placeholder","password","formControlName","password"],[1,"d-flex","justify-content-center"],[1,"btn","btn-danger","py-2",3,"disabled","click"],[1,"d-flex","justify-content-center","mt-2"],["routerLink","/auth/register","routerLinkActive","active",1,"register"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0)(1,"div")(2,"div")(3,"div",1)(4,"div",2)(5,"h2"),t._uU(6,"Login"),t.qZA(),t.TgZ(7,"form",3)(8,"mat-form-field",4)(9,"mat-label"),t._uU(10,"Email"),t.qZA(),t._UZ(11,"input",5),t.TgZ(12,"mat-error"),t._uU(13,"Required"),t.qZA()(),t.TgZ(14,"mat-form-field",4)(15,"mat-label"),t._uU(16,"Password"),t.qZA(),t._UZ(17,"input",6),t.TgZ(18,"mat-error"),t._uU(19,"Required"),t.qZA()()(),t.TgZ(20,"div",7)(21,"button",8),t.NdJ("click",function(){return a.login()}),t._uU(22,"Login"),t.qZA()(),t.TgZ(23,"div",9)(24,"a",10),t._uU(25,"HaveAcount? "),t.qZA()()()()()()()),2&o&&(t.xp6(7),t.Q6J("formGroup",a.loginForm),t.xp6(14),t.Q6J("disabled",a.loginForm.invalid))},dependencies:[l.TO,l.KE,l.hX,M.Nt,s.yS,s.Od,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u],styles:["*[_ngcontent-%COMP%]{font-family:cursive}.login[_ngcontent-%COMP%]{position:absolute;inset:0}.login[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{background-color:#0009;position:absolute;inset:0;z-index:1}.login[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100vh}.login[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{z-index:5;width:30%;padding:50px 20px;border:1px solid #ddd;border-radius:15px;box-shadow:0 2px 5px #ca25104d}.login[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#bc1059}.login[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:2px 100px}[_nghost-%COMP%]     .mat-form-field-appearance-outline{border-color:#ddd!important}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-outline{color:#bc1059!important}[_nghost-%COMP%]     .mat-form-field-empty.mat-form-field-label{color:#bc1059}[_nghost-%COMP%]     .mat-form-field-outline, [_nghost-%COMP%]     .mat-form-field-label, [_nghost-%COMP%]     .mat-form-field-underline, [_nghost-%COMP%]     .mat-input-element, [_nghost-%COMP%]     ::placeholder{color:#bc1059!important}.register[_ngcontent-%COMP%]{cursor:pointer}"]}),e})();function _(e,i){1&e&&(t.TgZ(0,"mat-hint"),t._uU(1,"Password not matched"),t.qZA())}let F=(()=>{class e{constructor(o,a,c,g,m,p){this.services=o,this.fb=a,this.toaster=c,this.translate=g,this.router=m,this.spinner=p,this.checkPass=x=>{let I=x.get("password")?.value,q=x.get("confirmPass")?.value;return I===q?null:{notmatched:!0}},this.language=localStorage.getItem("language"),"language"in localStorage&&g.use(this.language)}ngOnInit(){this.createUser()}createUser(){this.registerForm=this.fb.group({email:["",[n.kI.required,n.kI.email]],password:["",n.kI.required],confirmPass:["",n.kI.required],username:["",n.kI.required],role:["user"]},{validators:this.checkPass})}register(){this.spinner.show();const o={email:this.registerForm.get("email")?.value,password:this.registerForm.get("password")?.value,username:this.registerForm.get("username")?.value,role:this.registerForm.get("role")?.value};this.services.createUser(o).subscribe(a=>{this.toaster.success("Register Successfuly","succes"),this.router.navigate(["/auth/login"]),this.spinner.hide()})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(C),t.Y36(n.qu),t.Y36(P._W),t.Y36(u.sK),t.Y36(s.F0),t.Y36(b.t2))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-register"]],decls:39,vars:3,consts:[[1,"login","d-flex","justify-content-center","align-items-center","m-auto","p-4"],[1,"d-flex","align-items-center","justify-content-center","w-100"],[1,"box","w-100"],[3,"formGroup"],["appearance","outline",1,"w-100"],["matInput","","placeholder","username","formControlName","username"],["matInput","","placeholder","email","formControlName","email"],["matInput","","type","password","placeholder","password","formControlName","password"],["matInput","","type","password","placeholder","confirm password","formControlName","confirmPass"],[4,"ngIf"],[1,"d-flex","justify-content-center"],[1,"btn","btn-danger","py-2",3,"disabled","click"],["routerLink","/auth/login"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0)(1,"div")(2,"div")(3,"div",1)(4,"div",2)(5,"h2"),t._uU(6,"Register"),t.qZA(),t.TgZ(7,"form",3)(8,"mat-form-field",4)(9,"mat-label"),t._uU(10,"Username"),t.qZA(),t._UZ(11,"input",5),t.TgZ(12,"mat-error"),t._uU(13,"Required"),t.qZA()(),t.TgZ(14,"mat-form-field",4)(15,"mat-label"),t._uU(16,"Email"),t.qZA(),t._UZ(17,"input",6),t.TgZ(18,"mat-error"),t._uU(19,"Required"),t.qZA()(),t.TgZ(20,"mat-form-field",4)(21,"mat-label"),t._uU(22,"Password"),t.qZA(),t._UZ(23,"input",7),t.TgZ(24,"mat-error"),t._uU(25,"Required"),t.qZA()(),t.TgZ(26,"mat-form-field",4)(27,"mat-label"),t._uU(28,"Confirm Password"),t.qZA(),t._UZ(29,"input",8),t.TgZ(30,"mat-error"),t._uU(31,"Required"),t.qZA(),t.YNc(32,_,2,0,"mat-hint",9),t.qZA()(),t.TgZ(33,"div",10)(34,"button",11),t.NdJ("click",function(){return a.register()}),t._uU(35,"Register"),t.qZA()(),t.TgZ(36,"div",10)(37,"a",12),t._uU(38,"Already have an account?"),t.qZA()()()()()()()),2&o&&(t.xp6(7),t.Q6J("formGroup",a.registerForm),t.xp6(25),t.Q6J("ngIf",a.registerForm.hasError("notmatched")),t.xp6(2),t.Q6J("disabled",a.registerForm.invalid))},dependencies:[l.TO,l.KE,l.bx,l.hX,M.Nt,s.yS,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,f.O5],styles:["*[_ngcontent-%COMP%]{font-family:cursive}.login[_ngcontent-%COMP%]{position:absolute;inset:0}.login[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{background-color:#0009;position:absolute;inset:0;z-index:1}.login[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100vh}.login[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{z-index:5;width:30%;padding:50px 20px;border:1px solid #ddd;border-radius:15px;box-shadow:0 2px 5px #ca25104d}.login[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#bc1059}.login[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:2px 100px}[_nghost-%COMP%]     .mat-hint{color:#f44336}[_nghost-%COMP%]     .mat-form-field-appearance-outline{border-color:#ddd!important}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-outline{color:#bc1059!important}[_nghost-%COMP%]     .mat-form-field-empty.mat-form-field-label{color:#bc1059}[_nghost-%COMP%]     .mat-form-field-outline, [_nghost-%COMP%]     .mat-form-field-label, [_nghost-%COMP%]     .mat-form-field-underline, [_nghost-%COMP%]     .mat-input-element, [_nghost-%COMP%]     ::placeholder{color:#bc1059!important}"]}),e})(),O=(()=>{class e{constructor(o){this.router=o}canActivate(o,a){return!("token"in localStorage)||(this.router.navigate(["/tasks"]),!1)}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(s.F0))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const U=[{path:"login",canActivate:[O],component:A},{path:"register",canActivate:[O],component:F}];let w=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[s.Bz.forChild(U),s.Bz]}),e})();var L=r(9832);let T=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[y.q,w,n.u5,n.UX,d.JF,f.ez,u.aw.forRoot({loader:{provide:u.Zw,useFactory:Z,deps:[d.eN]}})]}),e})();function Z(e){return new L.w(e,"../assets/i18n/",".json")}}}]);